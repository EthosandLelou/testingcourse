%Notes this lecture is way to short. It is really half a lecture.
\documentclass{beamer}
\usetheme{default}
\usepackage{tikz}
\usetikzlibrary{positioning}
\usepackage{hyperref}
\usepackage{listings}
\title{Software Testing  Lecture 4}
\author{Justin Pearson}
\setbeamertemplate{footline}[page number]
\setbeamertemplate{navigation symbols}{}

\newcommand{\todo}[1]{{\tt ... #1 ... }}
\newcommand{\Reach}{\mathrm{Reach}}
\newcommand{\Path}{\mathrm{path}}

%Stolen from Stackexchange
%http://tex.stackexchange.com/questions/20609/strikeout-in-math-mode 
\newcommand\hcancel[2][red]{\setbox0=\hbox{$#2$}%
\rlap{\raisebox{.45\ht0}{\textcolor{#1}{\rule{\wd0}{1pt}}}}#2} 

\begin{document}
\lstset{language=C}

\begin{frame}
  \maketitle
\end{frame}

\begin{frame}[fragile]{Example}
\begin{lstlisting}
  int count_spaces(char* str) {
   int length, i,count;
   count = 0;
   length = strlen(str);
   for(i=1; i<length; i++)  { 
     if(str[i] == ' ') { count++; }
   }

  }
\end{lstlisting}
  
\end{frame}

\begin{frame}[fragile]{First Divide into Basic Blocks}
 \tikzstyle{block}=[shape=rectangle,draw,text width=6cm]
  \begin{tikzpicture}
    \node[block] (a) {
       \verb+int count =0;+ \\
       \verb+length = strlen(str);+
      };
      \node[below=0.2cm of a] {\verb-for(i=1; i<length; i++)-};
      \node[below=0.5cm of a] {\verb-if(str[i] == ' ')-};

    \node[block,below= 1cm of a] (b) {
         \verb-count++;- 
      };
    \node[block,below=1cm  of b] (c) {
           \verb+return(count);+
      };
          
  \end{tikzpicture}
\end{frame}

\begin{frame}[fragile]{CFG}
 \tikzstyle{block}=[shape=rectangle,draw,text width=4cm]
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
  \begin{tikzpicture}
    \node[block] (block1) {
       \verb+int count =0;+ \\
       \verb+length = strlen(str);+
      };
    \node[block,below= 1cm of block1] (block2) {
        \verb-count++;-
      };
    \node[block,below=1cm  of block2] (block3) {
           \verb+return(count);+
      };
      \node[below=0.2cm of block1] {\verb-for(i=1; i<length; i++)-};
      \node[below=0.5cm of block2] {\verb-if(str[i] == ' ')-};

      \node[cfgnode,right=2cm of block1] (g1) {1};
      \node[cfgnode,below=0.5cm of g1] (loopinit) {2};
      \node[cfgnode,below=0.5cm of loopinit] (loopbody) {3};
      \node[right=2cm of loopinit] (loopinitcode) {\verb+i=1+};
      \draw[->] (loopinit) to (loopbody);
      \draw[->] (loopinit) to (loopinitcode);
      \node[cfgnode,below=0.5cm  of loopbody] (loopif) {4};
      \node[cfgnode,below left=1cm of loopif] (loopbodyifstatement) {5};
      \node[cfgnode,below=1cm of loopif] (loopbodyifelse) {6};
      \node[cfgnode,below=0.5cm  of loopbodyifelse] (returnstatment) {7};
      \draw[->] (block1) to (g1);
      \draw[->] (block2) to (loopbodyifstatement);
      \draw[->] (block3) to (returnstatment);
      \draw[->] (g1) to (loopinit);
%      \draw[->] (loopbody) to (loopif);
      \path (loopbody) edge[->,above,pos=0.9] node {$i  < length$} (loopif);
      \draw[->] (loopif) -- node[sloped,above] {==} (loopbodyifstatement);
      \draw[->] (loopif) -- node[sloped,above] {$\neq$}  (loopbodyifelse);
      \draw[->] (loopbodyifstatement) to (loopbodyifelse);
      \path (loopbodyifelse) edge[->,bend right=80,above]  node {{\tt i++}} (loopbody);
      \path (loopbody) edge[->,bend left=120,below,pos=0.6] node
      {$i \not <length$} (returnstatment);
  \end{tikzpicture}

\end{frame}

\begin{frame}{Test Path}
  \begin{itemize}
  \item Remember a test path is a path that starts at an entry node
    and leaves at an exit node.
  \end{itemize}
  
\end{frame}
\begin{frame}[fragile]{Node Coverage}
 \tikzstyle{block}=[shape=rectangle,draw,text width=4cm]
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
  \begin{tikzpicture}
    \node[block] (block1) {
       \verb+int count =0;+ \\
       \verb+length = strlen(str);+
      };
    \node[block,below= 1cm of block1] (block2) {
        \verb-count++;-
      };
    \node[block,below=1cm  of block2] (block3) {
           \verb+return(count);+
      };
      \node[below=0.2cm of block1] {\verb-for(i=1; i<length; i++)-};
      \node[below=0.5cm of block2] {\verb-if(str[i] == ' ')-};

      \node[cfgnode,right=2cm of block1] (g1) {1};
      \node[cfgnode,below=0.5cm of g1] (loopinit) {2};
      \node[cfgnode,below=0.5cm of loopinit] (loopbody) {3};
      \node[right=2cm of loopinit] (loopinitcode) {\verb+i=1+};
      \draw[->] (loopinit) to (loopbody);
      \draw[->] (loopinit) to (loopinitcode);
      \node[cfgnode,below=0.5cm  of loopbody] (loopif) {4};
      \node[cfgnode,below left=1cm of loopif] (loopbodyifstatement) {5};
      \node[cfgnode,below=1cm of loopif] (loopbodyifelse) {6};
      \node[cfgnode,below=0.5cm  of loopbodyifelse] (returnstatment) {7};
      \draw[->] (block1) to (g1);
      \draw[->] (block2) to (loopbodyifstatement);
      \draw[->] (block3) to (returnstatment);
      \draw[->] (g1) to (loopinit);
%      \draw[->] (loopbody) to (loopif);
      \path (loopbody) edge[->,above,pos=0.9] node {$i < length$} (loopif);
      \draw[->] (loopif) -- node[sloped,above] {==} (loopbodyifstatement);
      \draw[->] (loopif) -- node[sloped,above] {$\neq$}  (loopbodyifelse);
      \draw[->] (loopbodyifstatement) to (loopbodyifelse);
      \path (loopbodyifelse) edge[->,bend right=80,above]  node {{\tt i++}} (loopbody);
      \path (loopbody) edge[->,bend left=120,below,pos=0.6] node
      {$i \not <length$} (returnstatment);
      \node[shape=rectangle,draw,text width=3cm, below=1cm of block3] {$TR
        = \{1,2,3,4,5,6,7\}$, Test path is $[1,2,3,4,5,6,3,7]$};
  \end{tikzpicture}

\end{frame}
 

\begin{frame}{Grey box testing}
  \begin{itemize}
  \item Our test path $[1,2,3,4,5,6,3,7]$ requires the loop to execute
    exactly once and it to detect one space. So we might try the test
    case ({\tt " "},1) but this won't work. Don't forget that {\tt
      i=1} in the loop body.
  \item Instead we have to use the  test case ({\tt "H "},1)
  \item By thinking about what the code should do, and trying to
    construct a test case corresponding to a path, we have uncovered a
    fault.
  \end{itemize}
  \end{frame}

\begin{frame}[fragile]{Edge Coverage}
 \tikzstyle{block}=[shape=rectangle,draw,text width=4cm]
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
  \begin{tikzpicture}
    \node[block] (block1) {
       \verb+int count =0;+ \\
       \verb+length = strlen(str);+
      };
    \node[block,below= 1cm of block1] (block2) {
        \verb-count++;-
      };
    \node[block,below=1cm  of block2] (block3) {
           \verb+return(count);+
      };
      \node[below=0.2cm of block1] {\verb-for(i=1; i<length; i++)-};
      \node[below=0.5cm of block2] {\verb-if(str[i] == ' ')-};

      \node[cfgnode,right=2cm of block1] (g1) {1};
      \node[cfgnode,below=0.5cm of g1] (loopinit) {2};
      \node[cfgnode,below=0.5cm of loopinit] (loopbody) {3};
      \node[right=2cm of loopinit] (loopinitcode) {\verb+i=1+};
      \draw[->] (loopinit) to (loopbody);
      \draw[->] (loopinit) to (loopinitcode);
      \node[cfgnode,below=0.5cm  of loopbody] (loopif) {4};
      \node[cfgnode,below left=1cm of loopif] (loopbodyifstatement) {5};
      \node[cfgnode,below=1cm of loopif] (loopbodyifelse) {6};
      \node[cfgnode,below=0.5cm  of loopbodyifelse] (returnstatment) {7};
      \draw[->] (block1) to (g1);
      \draw[->] (block2) to (loopbodyifstatement);
      \draw[->] (block3) to (returnstatment);
      \draw[->] (g1) to (loopinit);
%      \draw[->] (loopbody) to (loopif);
      \path (loopbody) edge[->,above,pos=0.9] node {$i  < length$} (loopif);
      \draw[->] (loopif) -- node[sloped,above] {==} (loopbodyifstatement);
      \draw[->] (loopif) -- node[sloped,above] {$\neq$}  (loopbodyifelse);
      \draw[->] (loopbodyifstatement) to (loopbodyifelse);
      \path (loopbodyifelse) edge[->,bend right=80,above]  node {{\tt i++}} (loopbody);
      \path (loopbody) edge[->,bend left=120,below,pos=0.6] node
      {$i\not <length$} (returnstatment);
      \node[shape=rectangle,draw,text width=3cm, below=1cm of block3] {$TR
        = \{(1,2),(2,3),(3,4),(3,7),$, $(4,5),(4,6),(5,6),(6,3)\}$,
        Test paths are $[1,2,3,4,5,6,3,7]$, $[1,2,3,4,6,3,7]$, $[1,2,3,7]$};
  \end{tikzpicture}

\end{frame}
 
\begin{frame}{Test Cases}
  \begin{itemize}
  \item $[1,2,3,4,5,6,3,7]$  ({\tt " "},1)
  \item $[1,2,3,4,6,7]$    ({\tt "H"},0)
  \item $[1,2,3,7]$       ({\tt ""},0)
  \end{itemize}
  \end{frame}

\begin{frame}{Relaxing test cases}
  \begin{itemize}
  \item As we have seen, sometimes we have infeasible  test cases. 
    \begin{itemize}
    \item This could because there is a fault.
    \item Or, that we have to do other things to get to the
      code. There might be a bit of setup code that we have to call
      first that is not in our path.
    \end{itemize}
  \item Before we introduced the notion of a path touring another
    path.
  \item A path $p$ tours the path $s$ if $s$ is a sub-sequence of $p$.
    \begin{itemize}
    \item $[1,2,3,4,6,3,4,6,3,7]$ tours  the test path $[1,2,3,4,6,3]$ it
      also tours many other paths including $[4,6,3,7]$. 
    \item Don't forget the difference between a test path and a path.
    \end{itemize}
  \end{itemize}
    
\end{frame}
\begin{frame}{Relaxing Test Cases}
  \begin{itemize}
  \item A test path $p$ is set to {\em tour} sub-path $q$ with {\em
      side-trips} if every edge that is in $q$ is also in $p$ in the
    same order.
  \item A test path $p$ is set to {\em tour} sub-path $q$ with {\em
      detours} if every node that is in $q$ is also in $p$ in the
    same order.
  \end{itemize}
  
\end{frame}
\begin{frame}{Sidetrips}
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
\begin{tikzpicture}[node distance=1.5cm]
  \node (entry) {};
  \node[cfgnode,right of=entry] (a) {0};
  \node[cfgnode,right of=a] (b) {1};
  \node[cfgnode,right of=b] (c) {2};
  \node[cfgnode,right of=c] (d) {4};
  \node[cfgnode,right of=d] (e) {5};
  \node[cfgnode,below of=c] (f) {3};
  \node[right of=e] (exit) {};
  \draw[->] (entry) to (a);
  \draw[->] (a) to (b);
  \draw[->] (b) to (c);
  \draw[->] (c) to (d);
  \draw[->] (d) to (e);
  \draw[->] (e) to (exit);
  \draw[->,bend left=45] (c) to (f);
  \draw[->,bend left=45] (f) to (c);
  \draw[->,bend right=45] (f.east) to (d);
\end{tikzpicture}
  
The path $[0,1,2,3,2,4,5]$ tours the path $[0,1,2,4,5]$ with side trips.
\end{frame}

\begin{frame}{Detours}
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
\begin{tikzpicture}[node distance=1.5cm]
  \node (entry) {};
  \node[cfgnode,right of=entry] (a) {0};
  \node[cfgnode,right of=a] (b) {1};
  \node[cfgnode,right of=b] (c) {2};
  \node[cfgnode,right of=c] (d) {4};
  \node[cfgnode,right of=d] (e) {5};
  \node[cfgnode,below of=c] (f) {3};
  \node[right of=e] (exit) {};
  \draw[->] (entry) to (a);
  \draw[->] (a) to (b);
  \draw[->] (b) to (c);
  \draw[->] (c) to (d);
  \draw[->] (d) to (e);
  \draw[->] (e) to (exit);
  \draw[->,bend left=45] (c) to (f);
  \draw[->,bend left=45] (f) to (c);
  \draw[->,bend right=45] (f.east) to (d);
\end{tikzpicture}
  
The path $[0,1,2,3,4,5]$ tours the path $[0,1,2,4,5]$ with side trips.
\end{frame}
\begin{frame}{Infeasible  test requirements}
  \begin{itemize}
  \item An infeasible test requirement {\em cannot be satisfied}
    \begin{itemize}
    \item Unreachable statement (dead code)
    \item Can only be executed if a contradiction occurs $X>0 \land
      X<0$.
    \item Always check against the specification, it could be a fault. 
    \end{itemize}
  \end{itemize}
  
\end{frame}
\begin{frame}{Infeasible  test requirements}
  \begin{itemize}
  \item   Most test criteria have some infeasible test requirements. 
  \item It is usually undecidable to decide if all test requirements
    are feasible (halting problem again).
  \item Allowing side trips might weaken the test cases, but allows
    more feasible test cases.
  \item Practical recommendation, best effort touring. Allow as many
    as possible without side-trips, only allow side-trips on
    infeasible test paths.
  \end{itemize}

  
\end{frame}
\begin{frame}{Loops}
  \begin{itemize}
  \item If a graph contains a loop then it has an infinite number of
    paths.
  \item Thus you can not ask for complete path coverage. 
  \item Attempts to “deal with” loops:
    \begin{itemize}
    \item 1970s : Execute cycles once  ([4, 5, 4] in previous example, informal)
    \item 1980s : Execute each loop, exactly once (formalised)
    \item 1990s : Execute loops 0 times, once, more than once (informal description)
    \item 2000s : Prime paths
\end{itemize}
  \end{itemize}
  
\end{frame}
\begin{frame}{Simple and Prime Paths}
  \begin{itemize}
  \item A path is simple if no node appears more than once except
    possible that the first and last node can be the same.
  \item A prime path of a graph is a simple path that is not a
    sub-path of any other simple path.
  \end{itemize}
  
\end{frame}
\begin{frame}{Simple Paths}
\begin{columns}
%%%First Column    
\begin{column}{0.3\textwidth}    
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
\begin{tikzpicture}%[node distance=1.5cm]
  \node (entry) {};
  \node[cfgnode,below of=entry] (a) {0};
  \node[below of=a] (middlenode) {};
  \node[cfgnode,left of=middlenode] (b) {1};
  \node[cfgnode,right of=middlenode] (c) {2};
  \node[cfgnode,below of=middlenode] (f) {3};
  \node[below of=f] (exit) {};
\draw[->] (entry) to (a);
\draw[->] (f) to (exit);
\draw[->] (f) to (a);
\draw[->] (a) to (b);
\draw[->] (a) to (c);
\draw[->] (b) to (f);
\draw[->] (c) to (f);
\end{tikzpicture}
\end{column}
%%%%Second Column
\begin{column}{0.6\textwidth}
  \begin{itemize}
  \item $[0]$,$[1]$,$[2]$,$[3]$
  \item $[0,1]$,$[0,2]$,$[1,3]$,$[2,3]$,$[3,0]$
  \item $[ 0,1,3]$, $[0,2,3]$, $[1,3,0]$, $[2,3,0]$,$[3,0,1]$
  \item $[ 0, 1, 3, 0 ]$, $[ 0, 2, 3, 0]$, $[ 1, 3, 0, 1 ]$,
$[ 2, 3, 0, 2 ]$, $[ 3, 0, 1, 3 ]$, $[ 3, 0, 2, 3 ]$, $[ 1, 3, 0, 2 ]$,
$[ 2, 3, 0, 1 ]$.
  \end{itemize}
 
\end{column}
\end{columns}
  
\end{frame}
\begin{frame}{Prime Paths}
Remove all simple paths that can be extended (either direction) to a longer simple path.
\begin{columns}
%%%First Column    
\begin{column}{0.3\textwidth}    
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
\begin{tikzpicture}%[node distance=1.5cm]
  \node (entry) {};
  \node[cfgnode,below of=entry] (a) {0};
  \node[below of=a] (middlenode) {};
  \node[cfgnode,left of=middlenode] (b) {1};
  \node[cfgnode,right of=middlenode] (c) {2};
  \node[cfgnode,below of=middlenode] (f) {3};
  \node[below of=f] (exit) {};
\draw[->] (entry) to (a);
\draw[->] (f) to (exit);
\draw[->] (f) to (a);
\draw[->] (a) to (b);
\draw[->] (a) to (c);
\draw[->] (b) to (f);
\draw[->] (c) to (f);
\end{tikzpicture}
\end{column}
%%%%Second Column
\begin{column}{0.6\textwidth}
  \begin{itemize}
  \item $\hcancel{[0]}$,$\hcancel{[1]}$,$\hcancel{[2]}$,$\hcancel{[3]}$
  \item $\hcancel{[0,1]}$,$\hcancel{[0,2]}$,$\hcancel{[1,3]}$,$\hcancel{[2,3]}$,$\hcancel{[3,0]}$
  \item $\hcancel{[ 0,1,3]}$, $\hcancel{[0,2,3]}$, $\hcancel{[1,3,0]}$, $\hcancel{[2,3,0]}$,$\hcancel{[3,0,1]}$
  \item $[ 0, 1, 3, 0 ]$, $[ 0, 2, 3, 0]$, $[ 1, 3, 0, 1 ]$,
$[ 2, 3, 0, 2 ]$, $[ 3, 0, 1, 3 ]$, $[ 3, 0, 2, 3 ]$, $[ 1, 3, 0, 2 ]$,
$[ 2, 3, 0, 1 ]$.
  \end{itemize}
In this case the prime paths are all the longest simple paths. Not
always the case. 
\end{column}
\end{columns}
  
\end{frame}
\begin{frame}{Simple Paths}
Enumerate all simple paths of length, 1,2,3, $\ldots$ then remove
simple paths that can be extended. You will be left with the prime paths.
\begin{columns}

\begin{column}{0.5\textwidth}
 \begin{tikzpicture}
 \node (entry) at (1,3) {};
 
% \tikzstyle{every node} = [circle,fill=gray!30]
 \node[below of=entry,circle,fill=gray!30] (initialise) {$1$};
 \node[left  of=initialise] () {$x=0$};
 \node[below of=initialise,circle,fill=gray!30] (start) {$2$};
 \node[below of=start] (placementnode) {};
 \node[left of=placementnode, below of=placementnode,circle,fill=gray!30] (body)
 {$3$}; 
 \node[left of=body] () {body};
 \node[left of=placementnode,node distance=4em] (anchorpoint) {i++};
 \node[right of=placementnode, below of=placementnode,circle,fill=gray!30] (exit)
{$4$};
 \node[below of=exit] (exitnode) {};
 
 \draw [->] (exit) to (exitnode);
 \draw [->] (entry) to (initialise);
 \draw [->] (initialise) to (start);
 \draw [->] (start) --
 node[color=black,fill=white,pos=0.5,below,sloped] {$\scriptsize i<x$}
 (body);
 \draw [->] (start) --
 node[color=black,fill=white,pos=0.5,above,sloped] {$\scriptsize i\not<x$} (exit);
 \draw [->] (start) to (exit);
  \draw [->] (body) to[bend left] (start);
\end{tikzpicture}
\end{column}
%%%Second Column
\begin{column}{0.5\textwidth}
  \begin{itemize}
  \item $[1]$,$[2]$,$[3]$,$[4]$
  \item $[1,2]$, $[2,3]$, $[2,4]$, $[3,2]$
  \item $[1,2,3]$ , $[1,2,4]$, $[2,3,2]$
  \item We have to be careful about the paths of length 4.
    \begin{itemize}
    \item $[1,2,3,2]$ is not a simple path. Repeats $2$ which is not
      at the beginning or the end. 
    \end{itemize}
  \item In fact there are no simple paths of length 4 in this graph.
  \end{itemize}
\end{column}
\end{columns}
\end{frame}
%%%%%%%%%%
\begin{frame}{Prime Paths}
Enumerate all simple paths of length, 1,2,3, $\ldots$ then remove
simple paths that can be extended. You will be left with the prime paths.
\begin{columns}

\begin{column}{0.5\textwidth}
 \begin{tikzpicture}
 \node (entry) at (1,3) {};
 
% \tikzstyle{every node} = [circle,fill=gray!30]
 \node[below of=entry,circle,fill=gray!30] (initialise) {$1$};
 \node[left  of=initialise] () {$x=0$};
 \node[below of=initialise,circle,fill=gray!30] (start) {$2$};
 \node[below of=start] (placementnode) {};
 \node[left of=placementnode, below of=placementnode,circle,fill=gray!30] (body)
 {$3$}; 
 \node[left of=body] () {body};
 \node[left of=placementnode,node distance=4em] (anchorpoint) {i++};
 \node[right of=placementnode, below of=placementnode,circle,fill=gray!30] (exit)
{$4$};
 \node[below of=exit] (exitnode) {};
 
 \draw [->] (exit) to (exitnode);
 \draw [->] (entry) to (initialise);
 \draw [->] (initialise) to (start);
 \draw [->] (start) --
 node[color=black,fill=white,pos=0.5,below,sloped] {$\scriptsize i<x$}
 (body);
 \draw [->] (start) --
 node[color=black,fill=white,pos=0.5,above,sloped] {$\scriptsize i\not<x$} (exit);
 \draw [->] (start) to (exit);
  \draw [->] (body) to[bend left] (start);
\end{tikzpicture}
\end{column}
%%%Second Column
\begin{column}{0.5\textwidth}
  \begin{itemize}
  \item $\hcancel{[1]}$,$\hcancel{[2]}$,$\hcancel{[3]}$,$\hcancel{[4]}$
  \item $\hcancel{[1,2]}$, $\hcancel{[2,3]}$, $\hcancel{[2,4]}$, $\hcancel{[3,2]}$
  \item $[1,2,3]$ , $[1,2,4]$, $[2,3,2]$
  \end{itemize}
\end{column}
\end{columns}
\end{frame}
%%%%%%%%%%
\begin{frame}{Prime Paths to Test Paths}
\begin{columns}

\begin{column}{0.5\textwidth}
 \begin{tikzpicture}
 \node (entry) at (1,3) {};
 
% \tikzstyle{every node} = [circle,fill=gray!30]
 \node[below of=entry,circle,fill=gray!30] (initialise) {$1$};
 \node[left  of=initialise] () {$x=0$};
 \node[below of=initialise,circle,fill=gray!30] (start) {$2$};
 \node[below of=start] (placementnode) {};
 \node[left of=placementnode, below of=placementnode,circle,fill=gray!30] (body)
 {$3$}; 
 \node[left of=body] () {body};
 \node[left of=placementnode,node distance=4em] (anchorpoint) {i++};
 \node[right of=placementnode, below of=placementnode,circle,fill=gray!30] (exit)
{$4$};
 \node[below of=exit] (exitnode) {};
 
 \draw [->] (exit) to (exitnode);
 \draw [->] (entry) to (initialise);
 \draw [->] (initialise) to (start);
 \draw [->] (start) --
 node[color=black,fill=white,pos=0.5,below,sloped] {$\scriptsize i<x$}
 (body);
 \draw [->] (start) --
 node[color=black,fill=white,pos=0.5,above,sloped] {$\scriptsize i\not<x$} (exit);
 \draw [->] (start) to (exit);
  \draw [->] (body) to[bend left] (start);
\end{tikzpicture}
\end{column}
%%%Second Column
\begin{column}{0.5\textwidth}
  \begin{itemize}
  \item $[1,2,3] \rightarrow [1,2,3,4]$
    \begin{itemize}
    \item Execute loop once.
    \end{itemize}
  \item $[1,2,4] \rightarrow [1,2,4]$
    \begin{itemize}
    \item   Execute loop zero times.
    \end{itemize}

  \item $[2,3,2] \rightarrow [1,2,3,2,4]$
    \begin{itemize}
    \item Execute loop more than once.
    \end{itemize}
  \end{itemize}
\end{column}
\end{columns}
\end{frame}
\begin{frame}{Simple Paths}
\begin{columns}
 \begin{column}{0.35\textwidth}
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
 \begin{tikzpicture}
      \node[cfgnode] (g1) {1};
      \node[cfgnode,below=0.5cm of g1] (loopinit) {2};
      \node[cfgnode,below=0.5cm of loopinit] (loopbody) {3};
      \draw[->] (loopinit) to (loopbody);
      \node[cfgnode,below=0.5cm  of loopbody] (loopif) {4};
      \node[cfgnode,below left=1cm of loopif] (loopbodyifstatement) {5};
      \node[cfgnode,below=1cm of loopif] (loopbodyifelse) {6};
      \node[cfgnode,below=0.5cm  of loopbodyifelse] (returnstatment) {7};
      \draw[->] (g1) to (loopinit);
%      \draw[->] (loopbody) to (loopif);
      \path (loopbody) edge[->,above,pos=0.9]  (loopif);
      \draw[->] (loopif) to  (loopbodyifstatement);
      \draw[->] (loopif) to   (loopbodyifelse);
      \draw[->] (loopbodyifstatement) to (loopbodyifelse);
      \path (loopbodyifelse) edge[->,bend right=80,above]   (loopbody);
      \path (loopbody) edge[->,bend left=120,below,pos=0.6] (returnstatment);
\end{tikzpicture}
\end{column}
\begin{column}{0.65\textwidth}
  \begin{itemize}
  \item $[1]$, $[2]$, $[3]$,$[4]$,$[5]$,$[6]$,$[7]!$
  \item $[1,2]$,$[2,3]$,$[3,4]$,$[3,7]$, $[4,5]$,$[4,6]$,$[5,6]$,
    $[6,3]$,$[6,3]$
  \item $[1,2,3]$, $[2,3,4]$, $[2,3,7]!$, $[3,4,5]$, $[3,4,6]$,
    $[4,5,6]$, $[4,6,3]$, $[4,6,3]$, $[5,6,3]$, $[5,6,3]$, $[6,3,4]$
  \item $[1,2,3,4]$, $[1,2,3,7]!$, $[2,3,4,5]$, $[2,3,4,6]$,
    $[3,4,5,6]$, $[3,4,6,3]$, $[3,4,6,3]$ , $[4,5,6,3]$ ,$[6,3,4,5]$,
    $[4,5,6,3]$, $[4,6,3,4]$, $[5,6,3,4]$
  \item $[1,2,3,4,5]$, $[1,2,3,4,6]$, $[2,3,4,5,6]$,$[2,3,4,6,3]$,
    $[3,4,5,6,3]$ , $[3,4,5,6,3]$,
  \item $[1,2,3,4,5,6]$.
  \end{itemize}
\end{column}
\end{columns}
\end{frame}
\begin{frame}{Prime Paths}
\begin{columns}
 \begin{column}{0.35\textwidth}
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
 \begin{tikzpicture}
      \node[cfgnode] (g1) {1};
      \node[cfgnode,below=0.5cm of g1] (loopinit) {2};
      \node[cfgnode,below=0.5cm of loopinit] (loopbody) {3};
      \draw[->] (loopinit) to (loopbody);
      \node[cfgnode,below=0.5cm  of loopbody] (loopif) {4};
      \node[cfgnode,below left=1cm of loopif] (loopbodyifstatement) {5};
      \node[cfgnode,below=1cm of loopif] (loopbodyifelse) {6};
      \node[cfgnode,below=0.5cm  of loopbodyifelse] (returnstatment) {7};
      \draw[->] (g1) to (loopinit);
%      \draw[->] (loopbody) to (loopif);
      \path (loopbody) edge[->,above,pos=0.9]  (loopif);
      \draw[->] (loopif) to  (loopbodyifstatement);
      \draw[->] (loopif) to   (loopbodyifelse);
      \draw[->] (loopbodyifstatement) to (loopbodyifelse);
      \path (loopbodyifelse) edge[->,bend right=80,above]   (loopbody);
      \path (loopbody) edge[->,bend left=120,below,pos=0.6] (returnstatment);
\end{tikzpicture}
\end{column}
\begin{column}{0.65\textwidth}
  \begin{itemize}
  \item $\hcancel{[1]}$, $\hcancel{[2]}$, $\hcancel{[3]}$,$\hcancel{[4]}$,$\hcancel{[5]}$,$\hcancel{[6]}$,$\hcancel{[7]!}$
  \item $\hcancel{[1,2]}$,$\hcancel{[2,3]}$,$\hcancel{[3,4]}$,$\hcancel{[3,7]}$, $\hcancel{[4,5]}$,$\hcancel{[4,6]}$,$\hcancel{[5,6]}$,
    $\hcancel{[6,3]}$,$\hcancel{[6,3]}$
  \item $\hcancel{[1,2,3]}$, $\hcancel{[2,3,4]}$, $\hcancel{[2,3,7]!}$, $\hcancel{[3,4,5]}$, $\hcancel{[3,4,6]}$,
    $\hcancel{[4,5,6]}$, $\hcancel{[4,6,3]}$, $\hcancel{[4,6,3]}$, $\hcancel{[5,6,3]}$, $\hcancel{[5,6,3]}$, $\hcancel{[6,3,4]}$
 \item $\hcancel{[1,2,3,4]}$, $[1,2,3,7]!$, $\hcancel{[2,3,4,5]}$, $\hcancel{[2,3,4,6]}$,
    $\hcancel{[3,4,5,6]}$,  $[3,4,6,3]$ , $\hcancel{[4,5,6,3]}$ ,$[6,3,4,5]$,
  $[4,6,3,4]$, $[5,6,3,4]$
  \item $\hcancel{[1,2,3,4,5]}$, $\hcancel{[1,2,3,4,6]}$,
    $\hcancel{[2,3,4,5,6]}$, $[3,4,5,6,3]$, 
  \item $[1,2,3,4,5,6]$.
  \end{itemize}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Prime Paths}
\begin{columns}
 \begin{column}{0.35\textwidth}
 \tikzstyle{cfgnode}=[circle,fill=gray!30]
 \begin{tikzpicture}
      \node[cfgnode] (g1) {1};
      \node[cfgnode,below=0.5cm of g1] (loopinit) {2};
      \node[cfgnode,below=0.5cm of loopinit] (loopbody) {3};
      \draw[->] (loopinit) to (loopbody);
      \node[cfgnode,below=0.5cm  of loopbody] (loopif) {4};
      \node[cfgnode,below left=1cm of loopif] (loopbodyifstatement) {5};
      \node[cfgnode,below=1cm of loopif] (loopbodyifelse) {6};
      \node[cfgnode,below=0.5cm  of loopbodyifelse] (returnstatment) {7};
      \draw[->] (g1) to (loopinit);
%      \draw[->] (loopbody) to (loopif);
      \path (loopbody) edge[->,above,pos=0.9]  (loopif);
      \draw[->] (loopif) to  (loopbodyifstatement);
      \draw[->] (loopif) to   (loopbodyifelse);
      \draw[->] (loopbodyifstatement) to (loopbodyifelse);
      \path (loopbodyifelse) edge[->,bend right=80,above]   (loopbody);
      \path (loopbody) edge[->,bend left=120,below,pos=0.6] (returnstatment);
\end{tikzpicture}
\end{column}
\begin{column}{0.65\textwidth}
  \begin{itemize}
  \item $[1,2,3,7]! \rightarrow  [1,2,3,7]$
    \begin{itemize}
    \item  Do the loop zero times.
    \end{itemize}
  \item $[3,4,6,3] \rightarrow   [1,2,3,4,6,3,7]$
    \begin{itemize}
    \item Do the loop once and do not do the {\tt if}
    \end{itemize}
  \item  $[6,3,4,5] \rightarrow   [1,2,3,4,6,3,4,5,6,3,7]$,
    \begin{itemize}
    \item Do the loop twice, once with the {\tt if}  and once without.
    \end{itemize}
  \item $[4,6,3,4] \rightarrow   [1,2,3,4,6,3,4,6,3,7]$
    \begin{itemize}
    \item Do the loop twice, both times without taking the {\tt if}.
    \end{itemize}
  \item $[5,6,3,4] \rightarrow   [1,2,3,4,5,6,3,4,6,3,7]$
    \begin{itemize}
    \item Do the loop twice, take the {\tt if} once and once without,
      other way around from the previous case.
    \end{itemize}
  \item $[3,4,5,6,3] \rightarrow [1,2,3,4,5,6,3,7]$, loop once with
    one {\tt if}.
  \end{itemize}
\end{column}
\end{columns}
\end{frame}
\begin{frame}{Prime Paths: Summary}
  \begin{itemize}
  \item Prime paths give you a good way of deriving a set of test
    cases that cover various combinations of loops and branches.
  \item There is no formal guarantee about completeness. As in all
    testing it just formalises a good compromise. 
  \end{itemize}
Please check my slides for mistakes.
\end{frame}

\end{document}
